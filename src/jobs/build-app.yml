description: |
  This job will build an app

docker:
  - image: cimg/node@sha256:9e7dff70aee20446a146e374367c3fddc58df1e39cca318dbd4993e625892880

steps:
  - checkout
  - node/install-packages
  - run:
      name: Build the app
      command: >
        npm run build
  - run:
      name: Zip App
      command: >
        zip -r build.zip ./build/* ./package.json
  - persist_to_workspace:
      root: .
      paths:
        - build.zip
        - ./.elasticbeanstalk
        - ./.git
