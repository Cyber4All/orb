description: |
  This job will build an app

docker:
  - image: cimg/node:16.13.2@sha256:0704990b98acbe821fafda00cd605a625598ac737e9b52df41713e2829cc5f78

steps:
  - checkout
  - node/install
  - node/install-packages
  - run:
      name: Build the app
      command: >
        npm run build
  - run:
      name: Zip App
      command: >
        zip -r build.zip ./build/* ./package.json
  - persist_to_workspace:
      root: .
      paths:
        - build.zip
        - ./.elasticbeanstalk
        - ./.git
